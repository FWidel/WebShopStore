(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),s=(a(64),a(2)),l=a(3),i=a(5),u=a(4),m=a(6),p=a(56),d=a(17),h=a(8),g=a(18),f=a(49),E=a(29),b=a(10),v={isOpen:!1,cartItems:[],totalPrice:0},y=JSON.parse(localStorage.getItem("products"));null!==y&&(v.cartItems=y);var O={sortingType:["name","asc"]},N={products:[]},j={isOpen:!1,active:"log in"},w={token:null},P=Object(g.c)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_CART":return Object(b.a)({},e,{isOpen:!e.isOpen});case"ADD_ITEM":var a=e.cartItems.find(function(e){return e.id===t.payload.id});return a||(t.payload.qty=1),Object(b.a)({},e,{cartItems:a?e.cartItems.map(function(e){return e.id===t.payload.id?Object(b.a)({},e,{qty:++e.qty}):e}):[t.payload].concat(Object(E.a)(e.cartItems))});case"DELETE_ITEM":return Object(b.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.id!==t.payload})});case"DECREMENT_QTY":return Object(b.a)({},e,{cartItems:e.cartItems.map(function(e){return e.id===t.payload.id?Object(b.a)({},e,{qty:--e.qty}):e})});case"UPDATE_PRICE":return Object(b.a)({},e,{totalPrice:e.cartItems.reduce(function(e,t){return e+t.qty*t.price},0).toFixed(2)});default:return e}},sorting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORT_TYPE":return Object(b.a)({},e,{sortingType:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_PRODUCTS":return Object(b.a)({},e);case"ADD_PRODUCTS":return Object(b.a)({},e,{products:t.payload});case"DELETE_PRODUCTS":return Object(b.a)({},e,{cartItems:e.products.filter(function(e){return e.id!==t.payload})});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_USER_PANEL":return Object(b.a)({},e,{isOpen:!e.isOpen});case"SET_ACTIVE_PANEL":return Object(b.a)({},e,{active:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(b.a)({},e,{token:t.payload});default:return e}}}),k=Object(g.e)(P,{},Object(g.d)(Object(g.a)(f.a))),C=(a(69),a(9)),T=(a(70),a(71),a(72),a(27)),S=function(){return{type:"SHOW_CART"}},I=function(e){return function(t){t({type:"ADD_ITEM",payload:e}),t(A())}},A=function(){return{type:"UPDATE_PRICE"}},_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).showCart=function(){(0,a.props.showCart)()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.cart.cartItems;return r.a.createElement("div",{className:"cart-icon ml-auto"},r.a.createElement("button",{type:"button",onClick:this.showCart},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("span",{className:"badge badge-primary"},e.reduce(function(e,t){return e+t.qty},0))))}}]),t}(n.Component),D=Object(h.b)(function(e){return{cart:e.cart}},{showCart:S,updatePrice:A})(_),x=function(){return{type:"SHOW_USER_PANEL"}},M=function(e){return{type:"SET_ACTIVE_PANEL",payload:e}},R=a(20),z=function(e){return null==e?localStorage.removeItem("authorization"):localStorage.setItem("authorization",e),{type:"SET_TOKEN",payload:e}},U=function(){return{type:"GET_TOKEN"}},F=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={displayMenu:!1,logged:!1},e.showDropdownMenu=e.showDropdownMenu.bind(Object(R.a)(e)),e.hideDropdownMenu=e.hideDropdownMenu.bind(Object(R.a)(e)),e.logOut=e.logOut.bind(Object(R.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setToken)(localStorage.getItem("authorization")),localStorage.getItem("authorization")&&this.setState({logged:!0})}},{key:"logOut",value:function(){(0,this.props.setToken)(null),localStorage.removeItem("authorization"),C.b.success("Logged out!",{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}),setTimeout(function(){window.location.reload()},1500)}},{key:"showDropdownMenu",value:function(e){var t=this;e.preventDefault(),this.state.logged?this.setState({displayMenu:!0},function(){document.addEventListener("click",t.hideDropdownMenu)}):window.location.href="/WebShopStore/account"}},{key:"hideDropdownMenu",value:function(){var e=this;this.setState({displayMenu:!1},function(){document.removeEventListener("click",e.hideDropdownMenu)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{onClick:this.showDropdownMenu},"  ",r.a.createElement("i",{className:"fa fa-user"})," "),this.state.displayMenu?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/WebShopStore/account"},"My orders")),r.a.createElement("li",null,r.a.createElement("a",{href:"/WebShopStore/settings"},"Password")),r.a.createElement("li",{onClick:this.logOut},"Log Out ")):null)}}]),t}(n.Component),L=Object(h.b)(function(e){return{userPanel:e.userPanel,auth:e.auth}},{setToken:z,getToken:U})(F),W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).showUserPanel=function(){(0,a.props.showUserPanel)()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-icon"},r.a.createElement(L,null))}}]),t}(n.Component),q=Object(h.b)(function(e){return{userPanel:e.userPanel}},{showUserPanel:x})(W),B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isTop:!0},a.scrollToTop=function(){T.animateScroll.scrollToTop()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",function(){var t=window.scrollY<100;t!==e.state.isTop&&e.setState({isTop:t})})}},{key:"render",value:function(){var e=this.state.isTop;return r.a.createElement("nav",{className:"navbar fixed-top ".concat(e?"":"scrolled")},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"/WebShopStore/",onClick:this.scrollToTop,className:"btn btn-link navbar-brand"},r.a.createElement("img",{src:"img/tshop_black.png",alt:"logo",width:"35px",height:"45px"}),"hemes shop"),r.a.createElement(D,null),r.a.createElement(q,null)))}}]),t}(n.Component),H=a(52),Y=a(53);function J(){var e=Object(H.a)(["\n      text-align: center;\n      padding: 8px 0;\n      font-size: 13px;\n    \n      p {\n        margin-bottom: 5px;\n      }\n      "]);return J=function(){return e},e}var K=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Y.a.footer(J());return r.a.createElement(e,null,r.a.createElement("p",null,"2019 \xa9 Wide\u0142 Franciszek All rights reserved."))}}]),t}(n.Component),G=a(28),Q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){(0,a.props.deleteItem)(e)},a.increment=function(){(0,a.props.addItem)(a.props.item)},a.decrement=function(e){a.props.item.qty>1?(0,a.props.decrement)(a.props.item):(0,a.props.deleteItem)(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.item,t=this.props.checkout;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"img-wrapper"},r.a.createElement("img",{className:"img-fluid",src:e.picture,alt:e.name})),r.a.createElement("h4",{className:"name"},e.name),r.a.createElement("div",{className:"quantity"},r.a.createElement("p",null,"Quantity:"," ",r.a.createElement("button",{className:"true"===t?"d-none":"btn subtract",onClick:this.decrement.bind(this,e.id)},"-"),e.qty,r.a.createElement("button",{className:"true"===t?"d-none":"btn add",onClick:this.increment.bind(this)},"+"))),r.a.createElement("small",{className:"price"},e.price*e.qty," z\u0142"),r.a.createElement("button",{type:"button",className:"true"===t?"d-none":"close",onClick:this.onClick.bind(this,e.id)},"x"))}}]),t}(n.Component),V=Object(h.b)(null,{deleteItem:function(e){return function(t){t({type:"DELETE_ITEM",payload:e}),t(A())}},addItem:I,decrement:function(e){return function(t){t({type:"DECREMENT_QTY",payload:e}),t(A())}}})(Q),$=a(19),X=a.n($),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkout:!1},a.showCart=function(){(0,a.props.showCart)()},a.goToCheckOut=function(){var e=a.props.showCart;localStorage.getItem("authorization")?(e(),a.setState({checkout:!0})):C.b.warn("Log in first!",{autoClose:1e3,position:C.b.POSITION.TOP_RIGHT})},a.closeCheckout=function(){a.setState({checkout:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.cart,t=e.isOpen,a=e.cartItems,n=this.props.cart.totalPrice;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cart ".concat(t?"":"transparent")},r.a.createElement("div",{className:"cart-inside ".concat(t?"active":"")},r.a.createElement("h2",null,"Shopping cart"),r.a.createElement("button",{type:"button",className:"close",onClick:this.showCart},"\xd7"),r.a.createElement(G.Scrollbars,{style:{height:"65%"}},r.a.createElement("div",{className:"items"},0===a.length?r.a.createElement("h3",null,"Add some products to see details."):r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:X()()},r.a.createElement(V,{item:e}))})))),r.a.createElement("div",{className:"total-amount"},r.a.createElement("p",null,r.a.createElement("strong",null,"Delivery"),r.a.createElement("span",null,"E-mail")),r.a.createElement("p",null,r.a.createElement("strong",null,"Total"),n," z\u0142"),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{className:"btn-custom",href:"/WebShopStore/checkout"},"Go to checkout"))))))}}]),t}(n.Component),ee=Object(h.b)(function(e){return{cart:e.cart}},{showCart:S,addItem:I})(Z),te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).addItem=function(e){C.b.info("Item added successfuly!",{autoClose:1e3,position:C.b.POSITION.BOTTOM_CENTER}),(0,a.props.addItem)(e);var t=a.props.cart.cartItems;localStorage.setItem("products",JSON.stringify(t))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.product;return r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top img-fluid",src:e.picture,alt:e.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"price"},e.price," z\u0142"),r.a.createElement("ul",{className:"sizes"},r.a.createElement("li",null,"Resolutions:"),e.size),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn-custom",onClick:this.addItem.bind(this,e)},"Add to cart")))))}}]),t}(n.Component),ae=Object(h.b)(function(e){return{cart:e.cart}},{addItem:I})(te),ne=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={pager:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.items&&this.props.items.length&&this.setPage(this.props.initialPage)}},{key:"componentDidUpdate",value:function(e,t){this.props.items!==e.items&&this.setPage(this.props.initialPage)}},{key:"setPage",value:function(e){var t=this.props,a=t.items,n=t.pageSize,r=this.state.pager;if(!(e<1||e>r.totalPages)){r=this.getPager(a.length,e,n);var c=a.slice(r.startIndex,r.endIndex+1);this.setState({pager:r}),this.props.onChangePage(c)}}},{key:"getPager",value:function(e,t,a){t=t||1,a=a||6;var n,r,c=Math.ceil(e/a);c<=6?(n=1,r=c):t<=6?(n=1,r=6):t+4>=c?(n=c-9,r=c):(n=t-5,r=t+4);var o=(t-1)*a,s=Math.min(o+a-1,e-1),l=Object(E.a)(Array(r+1-n).keys()).map(function(e){return n+e});return{totalItems:e,currentPage:t,pageSize:a,totalPages:c,startPage:n,endPage:r,startIndex:o,endIndex:s,pages:l}}},{key:"render",value:function(){var e=this,t=this.state.pager;return!t.pages||t.pages.length<=1?null:r.a.createElement("nav",{className:"pagination-nav","aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item ".concat(1===t.currentPage?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(1)}},"First")),r.a.createElement("li",{className:"page-item ".concat(1===t.currentPage?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(t.currentPage-1)}},"Previous")),t.pages.map(function(a,n){return r.a.createElement("li",{key:n,className:"page-item ".concat(t.currentPage===a?"active":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(a)}},a))}),r.a.createElement("li",{className:"page-item ".concat(t.currentPage===t.totalPages?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(t.currentPage+1)}},"Next")),r.a.createElement("li",{className:"page-item ".concat(t.currentPage===t.totalPages?"disabled":"")},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(t.totalPages)}},"Last"))))}}]),t}(r.a.Component);ne.defaultProps={initialPage:1,pageSize:6};var re=ne,ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={pageOfItems:[]},a.onChangePage=function(e){return a.setState({pageOfItems:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.addProducts;fetch("https://webshopstore.herokuapp.com/products").then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.products.products;return e.length>0?r.a.createElement("div",{className:"products-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.state.pageOfItems.map(function(e){return r.a.createElement(ae,{product:e,key:e.id})}),r.a.createElement(re,{items:e,onChangePage:this.onChangePage})))):r.a.createElement(ce,null)}}]),t}(n.Component),se=Object(h.b)(function(e){return{products:e.products}},{addProducts:function(e){return function(t){t({type:"ADD_PRODUCTS",payload:e})}}})(oe),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){"init"!==e.target.value&&a.props.sortPrices(e.target.value)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-3 ml-auto"})}}]),t}(n.Component),ie=Object(h.b)(function(e){return{sortBy:e.producs}},{sortPrices:function(e){var t=[];return t[0]="price",t[1]=e,{type:"SET_SORT_TYPE",payload:t}}})(le),ue=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"options container"},r.a.createElement("div",{className:"row"},r.a.createElement(ie,null)))}}]),t}(n.Component),me=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.sorting.sortingType;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null),r.a.createElement(se,{sort:e}))}}]),t}(n.Component),pe=Object(h.b)(function(e){return{sorting:e.sorting}})(me),de=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container home"},r.a.createElement("h1",null,"Welcome to our themes store!"),r.a.createElement("h2",null,"Check our products!"),r.a.createElement(T.Link,{to:"products",className:"btn-main__products",smooth:!0,offset:-10,duration:1200,spy:!0,onSetActive:this.handleSetActive},"Products",r.a.createElement("i",{className:"fas fa-chevron-down"}))),r.a.createElement("section",{name:"products",className:"products",id:"products"},r.a.createElement(pe,null)))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:"",message:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"login",value:function(e){var t=this;e.preventDefault(),fetch("https://webshopstore.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:this.state.login,password:this.state.password,id:0})}).then(function(e){return e.json()}).then(function(e){"Bad credentials!"===e.message?C.b.error(e.message,{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}):(C.b.success("Logged in successfuly!",{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}),(0,t.props.setToken)(e.message),setTimeout(function(){window.location.reload()},1500))}).catch(function(e){return console.log(e)})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({login:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-envelope"})," ")),r.a.createElement("input",{name:"email",className:"form-control",placeholder:"Email address",type:"email",onChange:function(t){return e.handleEmailChange(t)}})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-lock"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",onChange:function(t){return e.handlePasswordChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn-custom btn-block",onClick:function(t){return e.login(t)}},"Log in")))}}]),t}(n.Component),ge=Object(h.b)(function(e){return{auth:e.auth}},{setToken:z})(he),fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:"",message:"",open:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"register",value:function(e){var t=this;e.preventDefault(),fetch("https://webshopstore.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:this.state.login,password:this.state.password})}).then(function(e){return e.json()}).then(function(e){"OK"!==e.message?C.b.error(e.message,{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}):(C.b.success("Registered successfuly!",{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}),t.setState({password:"",login:""}))}).catch(function(e){return console.log(e)})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({login:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-envelope"})," ")),r.a.createElement("input",{name:"",className:"form-control",placeholder:"Email address",type:"email",value:this.state.login,onChange:function(t){return e.handleEmailChange(t)}})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-lock"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"Create password",type:"password",value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"personalData"},"Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our",r.a.createElement("a",{href:"/WebShopStore/policy",target:"_blank"},"privacy policy"),"."),r.a.createElement("button",{type:"submit",className:"btn-custom btn-block",onClick:function(t){return e.register(t)}}," Create Account  ")))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).showUserPanel=function(){(0,a.props.showUserPanel)()},a.setActivePanel=function(e){(0,a.props.setActivePanel)(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user.active;return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"card-body mx-auto"},r.a.createElement("div",{onClick:function(){return e.setActivePanel("log in")},className:"".concat("log in"===t?"login-tab active":"login-tab")},r.a.createElement("span",null,"Register")),r.a.createElement("div",{onClick:function(){return e.setActivePanel("register")},className:"".concat("register"===t?"register-tab active":"register-tab")},r.a.createElement("span",null,"Log in")),r.a.createElement("form",{className:"".concat("log in"===t?"":"d-none"," ")},r.a.createElement(fe,null)),r.a.createElement("form",{className:"".concat("register"===t?"":"d-none"," ")},r.a.createElement(ge,null))))}}]),t}(n.Component),be=Object(h.b)(function(e){return{user:e.user}},{showUserPanel:x,setActivePanel:M})(Ee),ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={orders:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getOrders",value:function(){var e=this;fetch("https://webshopstore.herokuapp.com/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("authorization")}}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({orders:t})}).catch(function(e){return console.log(e)})}},{key:"redirectToShop",value:function(){window.location.href="/"}},{key:"componentDidMount",value:function(){this.getOrders()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"card-body mx-auto"},0===this.state.orders.length?r.a.createElement("div",{className:"mx-auto"},r.a.createElement("i",{className:"fa fa-shopping-basket","aria-hidden":"true"}),r.a.createElement("span",{className:"empty"},"You have not placed any orders")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"empty"},"Your orders"),r.a.createElement("table",{className:"table table-striped table-responsive-md btn-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Full Name"),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Full address"),r.a.createElement("th",null,"Total amount"),r.a.createElement("th",null,"Payment method"))),r.a.createElement("tbody",null,this.state.orders.map(function(e){return r.a.createElement("tr",{key:X()()},r.a.createElement("td",null,e.id," "),r.a.createElement("td",null,e.fullname," "),r.a.createElement("td",null,e.phone," "),r.a.createElement("td",null,e.fulladdress," "),r.a.createElement("td",null,e.total," "),r.a.createElement("td",null,e.paymentoption," "))})))),r.a.createElement("button",{className:"btn-custom",onClick:function(){return e.redirectToShop()}},"Shop now!")))}}]),t}(n.Component),ye=Object(h.b)(function(e){return{user:e.user}},{showUserPanel:x,setActivePanel:M,setToken:z})(ve),Oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={logged:!1},a.showUserPanel=function(){(0,a.props.showUserPanel)()},a.setActivePanel=function(e){(0,a.props.setActivePanel)(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setToken)(localStorage.getItem("authorization"));var e=localStorage.getItem("authorization");console.log("token",e),e&&this.setState({logged:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"user-panel active"},r.a.createElement("div",{className:"user-inside active"},r.a.createElement("div",{className:"card"},!this.state.logged&&r.a.createElement(be,null),this.state.logged&&r.a.createElement(ye,null))))}}]),t}(n.Component),Ne=Object(h.b)(function(e){return{user:e.user,auth:e.auth}},{showUserPanel:x,setActivePanel:M,setToken:z,getToken:U})(Oe),je=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",address:"",postCode:"",phoneNumber:0,paymentOption:"",total:0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"buyItems",value:function(){var e=this.props.cart.cartItems,t=e.reduce(function(e,t){return e+t.qty*t.price},0).toFixed(2);fetch("https://webshopstore.herokuapp.com/order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("authorization")},body:JSON.stringify({cartitems:JSON.stringify(e),fullname:this.state.name,fulladdress:this.state.address,postcode:this.state.postCode,phone:this.state.phoneNumber,total:t,paymentoption:this.state.paymentOption})}).then(function(e){return e.json()}).then(function(e){"OK"!==e.message?C.b.error(e.message,{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}):C.b.success("Bought successfuly!",{autoClose:1e3,position:C.b.POSITION.TOP_CENTER})}).catch(function(e){return console.log(e)})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleAddressChange",value:function(e){this.setState({address:e.target.value})}},{key:"handlePostCodeChange",value:function(e){this.setState({postCode:e.target.value})}},{key:"handlePhoneNumberChange",value:function(e){this.setState({phoneNumber:e.target.value})}},{key:"setPayments",value:function(e){this.setState({paymentOption:e})}},{key:"render",value:function(){var e=this,t=this.props.cart.cartItems,a=t.reduce(function(e,t){return e+t.qty*t.price},0).toFixed(2);return r.a.createElement("div",{className:"user-panel active"},r.a.createElement("div",{className:"user-inside active"},r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"items active"},0===t.length?r.a.createElement("h3",null,"Add some products to see details."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your shopping cart:"),r.a.createElement(G.Scrollbars,{style:{height:"200px"}},r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:X()()},r.a.createElement(V,{checkout:"true",item:e}))}))))),r.a.createElement("div",{className:0===t.length?"d-none":"total-amount"},r.a.createElement("strong",null,"Delivery"),r.a.createElement("article",{className:"card-body mx-auto"},r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-address-book"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"Full name",type:"text",name:"fullName",onChange:function(t){return e.handleNameChange(t)}})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-address-book"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"City",type:"text",onChange:function(t){return e.handleAddressChange(t)}})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-map"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"Post code",type:"text",onChange:function(t){return e.handlePostCodeChange(t)}})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-phone"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"Phone number",type:"number",onChange:function(t){return e.handlePhoneNumberChange(t)}}))),r.a.createElement("p",null,r.a.createElement("strong",null,"Total"),a," z\u0142"),r.a.createElement("div",{className:"payments payments__methods"},r.a.createElement("p",null,r.a.createElement("strong",null,"Payments:")),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return e.setPayments("credit cards")},className:"credit cards"===this.state.paymentOption?"li__selected":""},r.a.createElement("img",{src:"https://www.reserved.com/media/SHARED/returns/cards.svg",alt:"credit cards"})),r.a.createElement("li",{onClick:function(){return e.setPayments("PayU")},className:"PayU"===this.state.paymentOption?"li__selected":""},r.a.createElement("img",{src:"https://www.reserved.com/media/SHARED/returns/PAYU.svg",alt:"PayU"})),r.a.createElement("li",{onClick:function(){return e.setPayments("Blik")},className:"Blik"===this.state.paymentOption?"li__selected":""},r.a.createElement("img",{src:"https://www.reserved.com/media/SHARED/returns/blik.png",alt:"Blik"})),r.a.createElement("li",{onClick:function(){return e.setPayments("In Delivery")},className:"In Delivery"===this.state.paymentOption?"li__selected":""},r.a.createElement("img",{src:"https://www.reserved.com/pl/pl/skin/frontend/reserved2/default/img/svg/payment/cashondelivery.svg",alt:"P\u0142atno\u015b\u0107 przy odbiorze"}),r.a.createElement("span",null,"In delivery:")),r.a.createElement("li",{onClick:function(){return e.setPayments("PayPal")},className:"PayPal"===this.state.paymentOption?"li__selected":""},r.a.createElement("img",{src:"https://www.reserved.com/media/SHARED/returns/PayPal.svg",alt:"PayPal"})))),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn-custom",onClick:function(){return e.buyItems()}},"Buy now"))))))}}]),t}(n.Component),we=Object(h.b)(function(e){return{cart:e.cart}})(je),Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={logged:!1,oldPassword:"",newPassword:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setToken)(localStorage.getItem("authorization"));var e=localStorage.getItem("authorization");console.log("token",e),e&&this.setState({logged:!0})}},{key:"changePassword",value:function(e){e.preventDefault(),fetch("https://webshopstore.herokuapp.com/change",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("authorization")},body:JSON.stringify({oldPassword:this.state.oldPassword,newPassword:this.state.newPassword})}).then(function(e){return e.json()}).then(function(e){"Bad credentials!"===e.message||"Password too short!"===e.message?(console.log(e),C.b.error(e.message,{autoClose:1e3,position:C.b.POSITION.TOP_CENTER})):(C.b.success("Password changed successfuly!",{autoClose:1e3,position:C.b.POSITION.TOP_CENTER}),setTimeout(function(){window.location.reload()},1e3))}).catch(function(e){return console.log(e)})}},{key:"handleOldPasswordChange",value:function(e){this.setState({oldPassword:e.target.value})}},{key:"handleNewPasswordChange",value:function(e){this.setState({newPassword:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"user-panel active"},r.a.createElement("div",{className:"user-inside active"},r.a.createElement("div",{className:"card"},!this.state.logged&&r.a.createElement(be,null),this.state.logged&&r.a.createElement("article",{className:"card-body mx-auto"},r.a.createElement("b",null,r.a.createElement("span",null,"In order to change password fill in this form:")),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-lock"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"Old password",type:"password",onChange:function(t){return e.handleOldPasswordChange(t)}})),r.a.createElement("div",{className:"form-group input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"}," ",r.a.createElement("i",{className:"fa fa-lock"})," ")),r.a.createElement("input",{className:"form-control",placeholder:"New password",type:"password",onChange:function(t){return e.handleNewPasswordChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn-custom btn-block",onClick:function(t){return e.changePassword(t)}},"Change"))))))}}]),t}(n.Component),ke=Object(h.b)(function(e){return{auth:e.auth}},{setToken:z})(Pe),Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={didMount:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({didMount:!0})},0)}},{key:"render",value:function(){var e=this.state.didMount;return r.a.createElement(h.a,{store:k},r.a.createElement(p.a,null,r.a.createElement("div",{className:"app fade-in ".concat(e&&"visible")},r.a.createElement(B,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:de}),r.a.createElement(d.a,{path:"/account",component:Ne}),r.a.createElement(d.a,{path:"/checkout",component:we}),r.a.createElement(d.a,{path:"/settings",component:ke})),r.a.createElement(ee,null),r.a.createElement(C.a,null),r.a.createElement(K,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,t,a){e.exports=a(104)},64:function(e,t,a){},70:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.f104ee74.chunk.js.map